"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}$(document).ready(function(){initLinkServices(),hideAsideMenu(),init_counter_position(),sliderMenu(),initCallContactForm(),startCalculator(),$(".first-button").on("click",function(){$(".animated-icon1").toggleClass("open")}),$(".second-button").on("click",function(){$(".animated-icon2").toggleClass("open")}),$(".third-button").on("click",function(){$(".animated-icon3").toggleClass("open")}),$(".bvi-link-copy").remove()});var sliderMenu=function(){$(window).scroll(function(){var t=$(window).scrollTop()+$(window).height();$(document).outerHeight(!0)-t<=324?$("#slider-menu").addClass("bottom"):$("#slider-menu").removeClass("bottom")})},initLinkServices=function(){0<$(".photobox__previewbox").length&&$(".photobox__previewbox").click(function(){window.location.href=$(this).attr("data-url")})},initMainSlider=function(){var t=$(".main-slider");0<t.length&&t.slick({dots:!0})},workTime=function(t,e){e.preventDefault();var o=$(t).attr("href");$.get(o,"",function(t){showModal("Время работы центров",t,"")})},sendReviews=function(t,e){e.preventDefault();var o=$(t).closest("form"),a=o.attr("action"),n=new FormData(o[0]);$.ajax({url:a,type:"POST",success:function(t){showModal(t.header,t.message,""),1==t.status&&$(o)[0].reset()},data:n,cache:!1,contentType:!1,processData:!1})},showModal=function(t,e,o){var a=$("#modal-window");a.modal("show"),0<t.length&&a.find(".modal-header").html('<h5  class="modal-title">'+t+'</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),0<e.length&&a.find(".modal-body").html(e),0<o.length?a.find(".modal-footer").html(o):a.find(".modal-footer").hide(),a.modal("show"),a.on("hide.bs.modal",function(t){a.find(".modal-header").html(""),a.find(".modal-body").html('<div class="center-block" style="text-align:center;"><i class="fa fa-spinner fa-pulse"></i></div>'),a.find(".modal-footer").html(o).show()})},closeModal=function(t){var e=$(t).closest("#modal-window");$(e[0]).modal("hide")},callContactForm=function(o,t){t.preventDefault();var e=$(o).attr("href");void 0!==$(o).attr("data-goal")&&yaGoal($(o).attr("data-goal")),$.get(e,[],function(t){var e=$(o).attr("data-title");showModal(e,t,"")})},sendContact=function(t,e){e.preventDefault();var o=$(t).closest("form"),a=o.attr("action"),n=new FormData(o[0]),i=$(t).attr("data-goal");$.ajax({url:a,type:"POST",success:function(t){1==t.status?(showModal(t.header,t.message,""),$(o)[0].reset(),yaGoal(i)):($(o).find(".alert").remove(),$(o).prepend(t.message))},data:n,cache:!1,contentType:!1,processData:!1})},hideAsideMenu=function(){$("aside ul li ul li ul").hide(),$("aside ul li ul li.active").parent("ul").show(),$("aside ul li ul li.active").parent("ul").prev("a").children("i").addClass("fa-caret-down").removeClass("fa-caret-right"),$('aside ul li ul li > a[href="#"]').click(function(t){t.preventDefault(),$(this).next("ul").toggle("slow");var e=$(this).children("i");$(e).hasClass("fa-caret-right")?$(e).addClass("fa-caret-down").removeClass("fa-caret-right"):$(e).addClass("fa-caret-right").removeClass("fa-caret-down")})},init_counter_position=function(){var t=$(".wrap-counter");if(t.length<=0)return!1;var e=t.closest("div.slick-slide"),o=$(e).width()/1110;t.removeAttr("style");var a=t.css("font-size"),n=t.css("top"),i=t.css("left"),l=t.css("letter-spacing");t.css("font-size",Math.round(a.replace("px","")*o)+"px"),t.css("top",Math.round(n.replace("px","")*o)+"px"),t.css("left",Math.round(i.replace("px","")*o)+"px"),t.css("letter-spacing",Math.round(l.replace("px","")*o)+"px")},scrollTo=function(t,e){e.preventDefault();var o=$(t).attr("href"),a=$(o).offset().top;$("body,html").animate({scrollTop:a},1500)},yaGoal=function(t){"undefined"!=typeof yaCounter7736377&&yaCounter7736377.reachGoal(t)},setDropDownMainMenu=function(){var t=$(".main-menu").find("ul"),e=$(t).children("li.list-item");if(6<$(e).length){for(var o=0,a=$(t).find("li.list-item:gt(4)"),n=$("<li>").addClass("list-item col-2 dropdown").append("<ul>"),i=0,l=$(a).length;i<l;i++)a[i].offsetWidth>o&&(o=a[i].offsetWidth);n.find("ul").css({width:o+"px"}),$(t).find("li.list-item:gt(4)").wrapAll(n),$(t).find("li.list-item:gt(4)").removeClass("col-2"),$(t).find("li.list-item:eq(5)").prepend('<a href="#">Ещё</a>')}},initCallContactForm=(workTime=function(t,e){e.preventDefault();var o=$(t).attr("href");$.get(o,"",function(t){showModal("Время работы центров",t,"")})},function(){var t=$('a[href="#call_contact_form"]');0<t.length&&t.attr("onclick","callContactForm(this,event)").attr("href","/site/contact-form").attr("data-title","Записаться к врачу")}),showMobileMenu=function(t,e){e.preventDefault();var o=$("aside");o.hasClass("show")?(o.removeClass("show"),$("body").css("overflow-y","auto")):(o.addClass("show"),$("body").css("overflow-y","hidden"))},startCalculator=function(){window.def={quest:$("#quest").text(),option:$("#option").text(),optionValue:$("#optionValue").text(),optionKoeff:$("#optionKoeff").text()},addChild()};function addChild(){if($("#docorder").length<=0)return!1;if(0<$("#docorder").find(".child").length)return alert("Заполните до конца форму!"),!1;var t=doT.template($("#wrap-child").html()),e=data;$("#docorder").append(t(initLoacation())),addQuest(e),setNumberChild()}function nextQuery(t){var e=$(t),o=e.val(),a=data,n=e.attr("data-prev"),i=e.parents(".full-inform,.child");$(i).hasClass("full-inform")&&($("#docorder").children(".child").remove(),$(i).removeClass("full-inform").addClass("child"));for(var l=$(e).parents(".form-group"),r=l.next("div");0<r.length;)$(r).remove(),r=l.next("div");if("undefined"!==_typeof(n)&&!1!==n){for(var d=(n=n+"_"+o).split("_"),s=0,c=d.length;s<c;s++)a=a.items[d[s]];n=n+"_"+o}else a=a.items[o],n=o;a.data_prev=n,addQuest(a)}function nextLocation(){var t=doT.template($("#location").html(),void 0,window.def);$("#docorder").children(".child").append(t(initLoacation())),$("#docorder").children(".child").removeClass("child").addClass("full-inform")}function addQuest(t){var e=doT.template($("#quest").html(),void 0,window.def);$("#docorder").children(".child").append(e(t))}function skidka(t){var e=1;return 2==t&&(e=.97),3==t&&(e=.95),4<=t&&(e=.93),e}function initLoacation(){return{1:"Москва в пределах МКАД",1.15:"Митино, Северное Бутово, Жулебино, Ново-Косино, Солнцево",1.3:"0-5 км от МКАД",1.5:"5,1-10 км от МКАД",1.75:"10,1-20 км от МКАД",2:"20,1-25 км от МКАД",3:"25,1-40 км от МКАД",3.5:"40,1-50 км от МКАД",4:"50,1-60 км от МКАД",4.5:"60,1-70 км от МКАД",5:"70,1-80 км от МКАД",6:"80,1-100 км от МКАД"}}function calcTotal(){for(var t=$(".full-inform"),e=0,o=t.length,a=0;a<o;a++)e+=$(t[a]).find("[data-price]").val()*$(t[a]).find("[data-koeff]").val();e=Math.round(skidka(o)*e),$("#result").text(e+" руб.")}function removeInform(t){$(t).parents(".child,.full-inform").remove(),$("#result").text("0 руб."),setNumberChild(),calcTotal()}function clearForm(){$("#docorder").empty(),addChild()}function setNumberChild(){for(var t=$("#docorder > div"),e=0,o=t.length;e<o;e++)$(t[e]).find(".child_num").text(e+1)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJpbml0TGlua1NlcnZpY2VzIiwiaGlkZUFzaWRlTWVudSIsInN0YXJ0Q2FsY3VsYXRvciIsIm9uIiwidG9nZ2xlQ2xhc3MiLCJyZW1vdmUiLCJ3aW5kb3ciLCJzY3JvbGwiLCJzY3JvbGxCb3R0b20iLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJsZW5ndGgiLCJhdHRyIiwibG9jYXRpb24iLCJocmVmIiwidGhpcyIsImluaXRNYWluU2xpZGVyIiwic2xpZGVyIiwic2xpY2siLCJkb3RzIiwid29ya1RpbWUiLCJ0aCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInVybCIsImdldCIsImRhdGEiLCJzaG93TW9kYWwiLCJzZW5kUmV2aWV3cyIsImNsb3Nlc3QiLCJmb3JtIiwiRm9ybURhdGEiLCJhamF4IiwidHlwZSIsInN1Y2Nlc3MiLCJoZWFkZXIiLCJtZXNzYWdlIiwic3RhdHVzIiwicmVzZXQiLCJjYWNoZSIsImZvcm1EYXRhIiwiY29udGVudFR5cGUiLCJwcm9jZXNzRGF0YSIsIm1vZGFsX3dpbmRvdyIsImNvbnRlbnQiLCJmb290ZXIiLCJmaW5kIiwiaHRtbCIsImNsb3NlTW9kYWwiLCJtb2RhbCIsImhpZGUiLCJnZXRfZGF0YSIsInlhR29hbCIsInRpdGxlX21vZGFsIiwic2hvdyIsInNlbmRDb250YWN0IiwiY2FsbENvbnRhY3RGb3JtIiwidW5kZWZpbmVkIiwiZ29hbCIsImNsaWNrIiwidG9nZ2xlIiwiaGFzQ2xhc3MiLCJjdXJyZXQiLCJiYW5lcl93aWR0aF9kZWYiLCJiYW5uZXIiLCJiYW5lcl93aWR0aF9jdXJlbnQiLCJwZXJzZW50X3dpZHRoIiwid3JhcF9jb3VudGVyIiwid3JhcF9jb3VudGVyX2ZvbnRfc2l6ZSIsIndyYXBfY291bnRlcl90b3AiLCJ3cmFwX2NvdW50ZXJfbGVmdCIsIndyYXBfY291bnRlcl9sZXR0ZXJfc3BhY2luZyIsImNzcyIsIk1hdGgiLCJyb3VuZCIsImluaXRfY291bnRlcl9wb3NpdGlvbiIsInRvcCIsIndpZHRoIiwieWFDb3VudGVyNzczNjM3NyIsInJlYWNoR29hbCIsInNldERyb3BEb3duTWFpbk1lbnUiLCJyZXBsYWNlIiwid3JhcF9tZW51IiwidWxfbWVudSIsImNoaWxkcmVuIiwic2Nyb2xsVG8iLCJtYXhfaXRlbXMiLCJsaXN0c19pdGVtIiwid3JhcF9kcm9wZG93biIsImFuaW1hdGUiLCJsaV9saXN0IiwiYXBwZW5kIiwiaSIsImwiLCJpbml0Q2FsbENvbnRhY3RGb3JtIiwib2Zmc2V0V2lkdGgiLCJtYXhfd2lkdGgiLCJzaG93TW9iaWxlTWVudSIsIndyYXBBbGwiLCIkYXNpZGUiLCJwcmVwZW5kIiwiZGVmIiwicXVlc3QiLCJsaW5rcyIsImZpZWxkZm4iLCJhZGRRdWVzdCIsInNlbGVjdCIsInNldE51bWJlckNoaWxkIiwibmV4dFF1ZXJ5IiwidGV4dCIsIm9wdGlvbiIsIndyYXBfY2giLCJvcHRpb25Lb2VmZiIsImFkZENoaWxkIiwiZWxfbmV4dCIsImVsX3JvdyIsImFsZXJ0IiwiZGF0YV9wcmV2IiwibGV2ZWxzIiwic3BsaXQiLCJuZXh0X2RhdGEiLCJ2YWwiLCJlbCIsInBhcmVudHMiLCJ0ZW1wbGF0ZSIsImRvVCIsInNraWRrYSIsImNvdW50X2NoaWxkcyIsInBlcnNlbnQiLCJuZXh0IiwiaW5pdExvYWNhdGlvbiIsIml0ZW1zIiwibmV4dExvY2F0aW9uIiwiY2hpbGRlbiIsInRvdGFsIiwiY291bnRfY2hpbGQiLCJrb2VmZiIsInJlbW92ZUluZm9ybSIsImNhbGNUb3RhbCIsIjEiLCIxLjE1IiwiMS4zIiwiY2xlYXJGb3JtIiwiMS41IiwiMiIsIjMiLCIzLjUiLCJjaGlsZWRzIiwiNC41IiwiNSIsImVtcHR5Il0sIm1hcHBpbmdzIjoiOFBBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FFZEMsbUJBQ0FDLGdCQUhGSCx3QkFFRUUsYUFDQUMsc0JBTUFDLGtCQUFB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QUNmckMsV0FHSixTQUFTTixpQkFHTCxJQURBLElBQUl3QyxFQUFVekosRUFBRSxtQkFDUmtHLEVBQUksRUFBR0MsRUFBSXNELEVBQVF4SSxPQUFRaUYsRUFBRUMsRUFBR0QsSUFDcENsRyxFQUFFeUosRUFBUXZELElBQUk5QyxLQUFLLGNBQWMrRCxLQUFLakIsRUFBSSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGluaXRNYWluU2xpZGVyKCk7XHJcbiAgICBpbml0TGlua1NlcnZpY2VzKCk7XHJcbiAgICBoaWRlQXNpZGVNZW51KCk7XHJcbiAgICBpbml0X2NvdW50ZXJfcG9zaXRpb24oKTtcclxuICAgIC8vIHNldERyb3BEb3duTWFpbk1lbnUoKTtcclxuICAgIHNsaWRlck1lbnUoKTtcclxuICAgIGluaXRDYWxsQ29udGFjdEZvcm0oKTtcclxuXHJcbiAgICBzdGFydENhbGN1bGF0b3IoKTtcclxuXHJcbiAgICAvLyDQvNC10L3RjlxyXG4gICAgJCgnLmZpcnN0LWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcuYW5pbWF0ZWQtaWNvbjEnKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuc2Vjb25kLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJCgnLmFuaW1hdGVkLWljb24yJykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnRoaXJkLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcuYW5pbWF0ZWQtaWNvbjMnKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmJ2aS1saW5rLWNvcHknKS5yZW1vdmUoKTtcclxuXHJcbn0pO1xyXG4vLyDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvNC10L3RjtGI0LrQuCDRgdC90LjQt9GDXHJcbnZhciBzbGlkZXJNZW51ID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0IHNjcm9sbEJvdHRvbSA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKSxcclxuICAgICAgICAgICAgaHcgPSAkKGRvY3VtZW50KS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgICBpZiAoIGh3IC0gc2Nyb2xsQm90dG9tIDw9IDMyNCApe1xyXG4gICAgICAgICAgICAkKCcjc2xpZGVyLW1lbnUnKS5hZGRDbGFzcygnYm90dG9tJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnI3NsaWRlci1tZW51JykucmVtb3ZlQ2xhc3MoJ2JvdHRvbScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8vINC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0YHRi9C70L7QuiDQstC40LTQttC10YLQsCDQodC10YDQstC40YEg0L3QsCDQs9C70LDQstC90L7QuVxyXG52YXIgaW5pdExpbmtTZXJ2aWNlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKCcucGhvdG9ib3hfX3ByZXZpZXdib3gnKS5sZW5ndGggPiAwKVxyXG4gICAgICAgICQoJy5waG90b2JveF9fcHJldmlld2JveCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdXJsJyk7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4vLyDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyBTbGljayBTbGlkZXJcclxudmFyIGluaXRNYWluU2xpZGVyID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICBjb25zdCBzbGlkZXIgPSAkKCcubWFpbi1zbGlkZXInKTtcclxuICAgIGlmIChzbGlkZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHNsaWRlci5zbGljayh7XHJcbiAgICAgICAgICAgIGRvdHM6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyDQvtC60L3QviDQstGA0LXQvNC10L3QuCDRgNCw0LHQvtGC0YtcclxudmFyIHdvcmtUaW1lID0gZnVuY3Rpb24gKHRoLCBlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCB1cmwgPSAkKHRoKS5hdHRyKCdocmVmJyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh1cmwpO3JldHVybiBmYWxzZTtcclxuICAgICQuZ2V0KHVybCwgJycsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgc2hvd01vZGFsKCfQktGA0LXQvNGPINGA0LDQsdC+0YLRiyDRhtC10L3RgtGA0L7QsicsIGRhdGEsICcnKTtcclxuICAgIH0pO1xyXG59O1xyXG4vLyDQvtGC0L/RgNCw0LLQuNGC0Ywg0L7RgtC30YvQslxyXG52YXIgc2VuZFJldmlld3MgPSBmdW5jdGlvbiAodGgsIGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGZvcm0gPSAkKHRoKS5jbG9zZXN0KCdmb3JtJyksXHJcbiAgICAgICAgdXJsID0gZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtWzBdKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBzaG93TW9kYWwoZGF0YS5oZWFkZXIsIGRhdGEubWVzc2FnZSwgJycpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICQoZm9ybSlbMF0ucmVzZXQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlXHJcbiAgICB9KTtcclxufTtcclxuXHJcbnZhciBzaG93TW9kYWwgPSBmdW5jdGlvbiAoaGVhZGVyLCBjb250ZW50LCBmb290ZXIpXHJcbntcclxuICAgIGNvbnN0IG1vZGFsX3dpbmRvdyA9ICQoJyNtb2RhbC13aW5kb3cnKSxcclxuICAgICAgICBjbG9zZV9idG4gPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj4nO1xyXG4gICAgbW9kYWxfd2luZG93Lm1vZGFsKCdzaG93Jyk7XHJcbiAgICBpZiAoaGVhZGVyLmxlbmd0aCA+IDApXHJcbiAgICAgICAgbW9kYWxfd2luZG93XHJcbiAgICAgICAgICAgIC5maW5kKCcubW9kYWwtaGVhZGVyJylcclxuICAgICAgICAgICAgLmh0bWwoJzxoNSAgY2xhc3M9XCJtb2RhbC10aXRsZVwiPicgKyBoZWFkZXIgKyAnPC9oNT4nICsgY2xvc2VfYnRuKTtcclxuXHJcbiAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKVxyXG4gICAgICAgIG1vZGFsX3dpbmRvd1xyXG4gICAgICAgICAgICAuZmluZCgnLm1vZGFsLWJvZHknKVxyXG4gICAgICAgICAgICAuaHRtbChjb250ZW50KTtcclxuXHJcbiAgICBpZiAoZm9vdGVyLmxlbmd0aCA+IDApXHJcbiAgICAgICAgbW9kYWxfd2luZG93XHJcbiAgICAgICAgICAgIC5maW5kKCcubW9kYWwtZm9vdGVyJylcclxuICAgICAgICAgICAgLmh0bWwoZm9vdGVyKTtcclxuICAgIGVsc2UgbW9kYWxfd2luZG93XHJcbiAgICAgICAgLmZpbmQoJy5tb2RhbC1mb290ZXInKVxyXG4gICAgICAgIC5oaWRlKCk7XHJcblxyXG4gICAgbW9kYWxfd2luZG93Lm1vZGFsKCdzaG93Jyk7XHJcbiAgICBtb2RhbF93aW5kb3cub24oJ2hpZGUuYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIG1vZGFsX3dpbmRvd1xyXG4gICAgICAgICAgICAuZmluZCgnLm1vZGFsLWhlYWRlcicpXHJcbiAgICAgICAgICAgIC5odG1sKCcnKTtcclxuICAgICAgICBtb2RhbF93aW5kb3dcclxuICAgICAgICAgICAgLmZpbmQoJy5tb2RhbC1ib2R5JylcclxuICAgICAgICAgICAgLmh0bWwoJzxkaXYgY2xhc3M9XCJjZW50ZXItYmxvY2tcIiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPjxpIGNsYXNzPVwiZmEgZmEtc3Bpbm5lciBmYS1wdWxzZVwiPjwvaT48L2Rpdj4nKTtcclxuICAgICAgICBtb2RhbF93aW5kb3cuZmluZCgnLm1vZGFsLWZvb3RlcicpXHJcbiAgICAgICAgICAgIC5odG1sKGZvb3RlcilcclxuICAgICAgICAgICAgLnNob3coKTtcclxuICAgIH0pXHJcbn1cclxuLy8g0LfQsNC60YDRi9GC0Ywg0LzQvtC00LDQu9GM0L3Rg9GOINC+0LrQvdC+INCyINCw0LTQvNC40L3QutC1XHJcbnZhciBjbG9zZU1vZGFsID0gZnVuY3Rpb24gKHRoKSB7XHJcbiAgICBsZXQgZWwgPSAkKHRoKSxcclxuICAgICAgICBtb2RhbCA9IGVsLmNsb3Nlc3QoJyNtb2RhbC13aW5kb3cnKTtcclxuICAgICQobW9kYWxbMF0pLm1vZGFsKCdoaWRlJyk7XHJcbn1cclxuLy8g0LLRi9C30L7QsiDRhNC+0YDQvNGLINGB0L7QvdGC0LDQutGC0L7QslxyXG52YXIgY2FsbENvbnRhY3RGb3JtID0gZnVuY3Rpb24gKHRoLCBlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCB1cmwgPSAkKHRoKS5hdHRyKCdocmVmJyksXHJcbiAgICAgICAgZ2V0X2RhdGEgPSBbXTtcclxuICAgIGlmICgkKHRoKS5hdHRyKCdkYXRhLWdvYWwnKSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgeWFHb2FsKCQodGgpLmF0dHIoJ2RhdGEtZ29hbCcpKTtcclxuICAgIH1cclxuXHJcbiAgICAkLmdldCh1cmwsIGdldF9kYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGxldCB0aXRsZV9tb2RhbCA9ICQodGgpLmF0dHIoJ2RhdGEtdGl0bGUnKTtcclxuICAgICAgICBzaG93TW9kYWwodGl0bGVfbW9kYWwsIGRhdGEsICcnKTtcclxuICAgIH0pO1xyXG59O1xyXG4vLyDQvtGC0L/RgNCw0LLQutCwINGE0L7RgNC80Ysg0LrQvtC90YLQsNC60YLQvtCyXHJcbnZhciBzZW5kQ29udGFjdCA9IGZ1bmN0aW9uICh0aCwgZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnN0IGZvcm0gPSAkKHRoKS5jbG9zZXN0KCdmb3JtJyksXHJcbiAgICAgICAgdXJsID0gZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtWzBdKSxcclxuICAgICAgICBnb2FsID0gJCh0aCkuYXR0cignZGF0YS1nb2FsJyk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHNob3dNb2RhbChkYXRhLmhlYWRlciwgZGF0YS5tZXNzYWdlLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAkKGZvcm0pWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICB5YUdvYWwoZ29hbCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKGZvcm0pLmZpbmQoJy5hbGVydCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgJChmb3JtKS5wcmVwZW5kKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlXHJcbiAgICB9KTtcclxufTtcclxuLy8g0YHQutGA0L7QtdC8INC80LXQvdGOIDMt0LPQviDRg9GA0L7QstC90Y9cclxudmFyIGhpZGVBc2lkZU1lbnUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyByZXR1cm4gZmFsc2U7XHJcbiAgICAkKCdhc2lkZSB1bCBsaSB1bCBsaSB1bCcpLmhpZGUoKTtcclxuICAgICQoJ2FzaWRlIHVsIGxpIHVsIGxpLmFjdGl2ZScpLnBhcmVudCgndWwnKS5zaG93KCk7XHJcbiAgICAkKCdhc2lkZSB1bCBsaSB1bCBsaS5hY3RpdmUnKVxyXG4gICAgICAgIC5wYXJlbnQoJ3VsJylcclxuICAgICAgICAucHJldignYScpXHJcbiAgICAgICAgLmNoaWxkcmVuKCdpJylcclxuICAgICAgICAuYWRkQ2xhc3MoJ2ZhLWNhcmV0LWRvd24nKVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnZmEtY2FyZXQtcmlnaHQnKTtcclxuICAgICQoJ2FzaWRlIHVsIGxpIHVsIGxpID4gYVtocmVmPVwiI1wiXScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykubmV4dCgndWwnKS50b2dnbGUoJ3Nsb3cnKTtcclxuICAgICAgICBsZXQgY3VycmV0ID0gJCh0aGlzKS5jaGlsZHJlbignaScpO1xyXG4gICAgICAgIGlmICgkKGN1cnJldCkuaGFzQ2xhc3MoJ2ZhLWNhcmV0LXJpZ2h0JykpIHtcclxuICAgICAgICAgICAgJChjdXJyZXQpLmFkZENsYXNzKCdmYS1jYXJldC1kb3duJykucmVtb3ZlQ2xhc3MoJ2ZhLWNhcmV0LXJpZ2h0Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChjdXJyZXQpLmFkZENsYXNzKCdmYS1jYXJldC1yaWdodCcpLnJlbW92ZUNsYXNzKCdmYS1jYXJldC1kb3duJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8g0YDQsNGB0YfQtdGCINC/0L7Qu9C+0LbQtdC90LjRjyDRgdGH0LXRgtGH0LjQutCwINC90LAg0LPQu9Cw0LLQvdC+0LlcclxudmFyIGluaXRfY291bnRlcl9wb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCB3cmFwX2NvdW50ZXIgPSAkKCcud3JhcC1jb3VudGVyJyk7XHJcbiAgICBpZiAod3JhcF9jb3VudGVyLmxlbmd0aCA8PSAwKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGxldCBiYW5lcl93aWR0aF9kZWYgPSAxMTEwLFxyXG4gICAgICAgIGJhbm5lciA9IHdyYXBfY291bnRlci5jbG9zZXN0KCdkaXYuc2xpY2stc2xpZGUnKSxcclxuICAgICAgICBiYW5lcl93aWR0aF9jdXJlbnQgPSAkKGJhbm5lcikud2lkdGgoKSxcclxuICAgICAgICBwZXJzZW50X3dpZHRoID0gYmFuZXJfd2lkdGhfY3VyZW50IC8gYmFuZXJfd2lkdGhfZGVmO1xyXG5cclxuICAgIHdyYXBfY291bnRlci5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgY29uc3Qgd3JhcF9jb3VudGVyX2ZvbnRfc2l6ZSA9IHdyYXBfY291bnRlci5jc3MoJ2ZvbnQtc2l6ZScpLFxyXG4gICAgICAgIHdyYXBfY291bnRlcl90b3AgPSB3cmFwX2NvdW50ZXIuY3NzKCd0b3AnKSxcclxuICAgICAgICB3cmFwX2NvdW50ZXJfbGVmdCA9IHdyYXBfY291bnRlci5jc3MoJ2xlZnQnKSxcclxuICAgICAgICB3cmFwX2NvdW50ZXJfbGV0dGVyX3NwYWNpbmcgPSB3cmFwX2NvdW50ZXIuY3NzKCdsZXR0ZXItc3BhY2luZycpO1xyXG4gICAgd3JhcF9jb3VudGVyLmNzcygnZm9udC1zaXplJywgTWF0aC5yb3VuZCh3cmFwX2NvdW50ZXJfZm9udF9zaXplLnJlcGxhY2UoJ3B4JywgJycpICogcGVyc2VudF93aWR0aCkgKyAncHgnKTtcclxuICAgIHdyYXBfY291bnRlci5jc3MoJ3RvcCcsIE1hdGgucm91bmQod3JhcF9jb3VudGVyX3RvcC5yZXBsYWNlKCdweCcsICcnKSAqIHBlcnNlbnRfd2lkdGgpICsgJ3B4Jyk7XHJcbiAgICB3cmFwX2NvdW50ZXIuY3NzKCdsZWZ0JywgTWF0aC5yb3VuZCh3cmFwX2NvdW50ZXJfbGVmdC5yZXBsYWNlKCdweCcsICcnKSAqIHBlcnNlbnRfd2lkdGgpICsgJ3B4Jyk7XHJcbiAgICB3cmFwX2NvdW50ZXIuY3NzKCdsZXR0ZXItc3BhY2luZycsIE1hdGgucm91bmQod3JhcF9jb3VudGVyX2xldHRlcl9zcGFjaW5nLnJlcGxhY2UoJ3B4JywgJycpICogcGVyc2VudF93aWR0aCkgKyAncHgnKTtcclxufTtcclxuLy8g0YHQutGA0L7Qu9C40L3Qs1xyXG52YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiAodGgsIGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCBpZCA9ICQodGgpLmF0dHIoJ2hyZWYnKTtcclxuICAgIGxldCB0b3AgPSAkKGlkKS5vZmZzZXQoKS50b3A7Ly/Rg9C30L3QsNC10Lwg0LLRi9GB0L7RgtGDINC+0YIg0L3QsNGH0LDQu9CwINGB0YLRgNCw0L3QuNGG0Ysg0LTQviDQsdC70L7QutCwINC90LAg0LrQvtGC0L7RgNGL0Lkg0YHRgdGL0LvQsNC10YLRgdGPINGP0LrQvtGA0YxcclxuICAgIC8v0LDQvdC40LzQuNGA0YPQtdC8INC/0LXRgNC10YXQvtC0INC90LAg0YDQsNGB0YHRgtC+0Y/QvdC40LUgLSB0b3Ag0LfQsCAxNTAwINC80YFcclxuICAgICQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDogdG9wfSwgMTUwMCk7XHJcbn07XHJcblxyXG52YXIgeWFHb2FsID0gZnVuY3Rpb24gKGdvYWwpIHtcclxuICAgIC8vIGxldCBjb3VudGVyID0geWFDb3VudGVyNzczNjM3NztcclxuICAgIC8vIGNvbnNvbGUubG9nKCdnb2FsJywgZ29hbClcclxuICAgIGlmICh0eXBlb2YgeWFDb3VudGVyNzczNjM3NyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICB5YUNvdW50ZXI3NzM2Mzc3LnJlYWNoR29hbChnb2FsKTtcclxuICAgIH1cclxufTtcclxuXHJcbnZhciBzZXREcm9wRG93bk1haW5NZW51ID0gZnVuY3Rpb24gKClcclxue1xyXG4gICAgbGV0IHdyYXBfbWVudSA9ICQoJy5tYWluLW1lbnUnKSxcclxuICAgICAgICB1bF9tZW51ID0gd3JhcF9tZW51LmZpbmQoJ3VsJyksXHJcbiAgICAgICAgbGlfbGlzdCA9ICQodWxfbWVudSkuY2hpbGRyZW4oJ2xpLmxpc3QtaXRlbScpLFxyXG4gICAgICAgIG1heF9pdGVtcyA9IDUsXHJcbiAgICAgICAgcHJldl9pdGVtcyA9IG1heF9pdGVtcy0xO1xyXG5cclxuICAgIGlmICggJChsaV9saXN0KS5sZW5ndGggPiBtYXhfaXRlbXMgKyAxICkge1xyXG4gICAgICAgIGxldCBtYXhfd2lkdGggPSAwLFxyXG4gICAgICAgICAgICBsaXN0c19pdGVtID0gJCh1bF9tZW51KS5maW5kKCdsaS5saXN0LWl0ZW06Z3QoJytwcmV2X2l0ZW1zKycpJyksXHJcbiAgICAgICAgICAgIHdyYXBfZHJvcGRvd24gPSAkKCc8bGk+JykuYWRkQ2xhc3MoJ2xpc3QtaXRlbSBjb2wtMiBkcm9wZG93bicpLmFwcGVuZCgnPHVsPicpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpPTAsbD0kKGxpc3RzX2l0ZW0pLmxlbmd0aDtpPGw7aSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChsaXN0c19pdGVtW2ldLm9mZnNldFdpZHRoID4gbWF4X3dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhfd2lkdGggPSBsaXN0c19pdGVtW2ldLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3cmFwX2Ryb3Bkb3duLmZpbmQoJ3VsJykuY3NzKHtcclxuICAgICAgICAgICAgJ3dpZHRoJyA6IG1heF93aWR0aCsncHgnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQodWxfbWVudSkuZmluZCgnbGkubGlzdC1pdGVtOmd0KCcrcHJldl9pdGVtcysnKScpLndyYXBBbGwod3JhcF9kcm9wZG93bik7XHJcbiAgICAgICAgJCh1bF9tZW51KS5maW5kKCdsaS5saXN0LWl0ZW06Z3QoJytwcmV2X2l0ZW1zKycpJykucmVtb3ZlQ2xhc3MoJ2NvbC0yJyk7XHJcbiAgICAgICAgJCh1bF9tZW51KS5maW5kKCdsaS5saXN0LWl0ZW06ZXEoJyttYXhfaXRlbXMrJyknKS5wcmVwZW5kKCc8YSBocmVmPVwiI1wiPtCV0YnRkTwvYT4nKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciB3b3JrVGltZSA9IGZ1bmN0aW9uICh0aCwgZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgdXJsID0gJCh0aCkuYXR0cignaHJlZicpO1xyXG4gICAgLy8gY29uc29sZS5sb2codXJsKTtyZXR1cm4gZmFsc2U7XHJcbiAgICAkLmdldCh1cmwsICcnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHNob3dNb2RhbCgn0JLRgNC10LzRjyDRgNCw0LHQvtGC0Ysg0YbQtdC90YLRgNC+0LInLCBkYXRhLCAnJyk7XHJcbiAgICB9KTtcclxufTtcclxuLy8g0LLRgdC10Lwg0YHRgdGL0LvQutCw0Lwg0YEg0Y/QutC+0YDQtdC8ICNjYWxsX2NvbnRhY3RfZm9ybSDQt9Cw0LTQsNC10Lwg0LfQvdCw0YfQtdC90LjQtVxyXG52YXIgaW5pdENhbGxDb250YWN0Rm9ybSA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAgbGV0IGxpbmtzID0gJCgnYVtocmVmPVwiI2NhbGxfY29udGFjdF9mb3JtXCJdJyk7XHJcbiAgICBpZiAobGlua3MubGVuZ3RoID4gMClcclxuICAgICAgICBsaW5rc1xyXG4gICAgICAgICAgICAuYXR0cignb25jbGljaycsJ2NhbGxDb250YWN0Rm9ybSh0aGlzLGV2ZW50KScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdocmVmJywnL3NpdGUvY29udGFjdC1mb3JtJylcclxuICAgICAgICAgICAgLmF0dHIoJ2RhdGEtdGl0bGUnLCfQl9Cw0L/QuNGB0LDRgtGM0YHRjyDQuiDQstGA0LDRh9GDJyk7XHJcbn1cclxuLy/Qv9C10YDQtdC60LvRjtGH0LjRgtGMINC80L7QsdC40LvRjNC90L7QtSDQvNC10L3RjlxyXG52YXIgc2hvd01vYmlsZU1lbnUgPSBmdW5jdGlvbih0aCxlKVxyXG57XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgbGV0ICRhc2lkZSA9ICQoJ2FzaWRlJyk7XHJcbiAgICBpZiAoJGFzaWRlLmhhc0NsYXNzKCdzaG93JykpIHtcclxuICAgICAgICAkYXNpZGUucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdy15JywnYXV0bycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkYXNpZGUuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdy15JywnaGlkZGVuJyk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG52YXIgc3RhcnRDYWxjdWxhdG9yID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICB3aW5kb3cuZGVmID0ge1xyXG4gICAgICAgIHF1ZXN0OiAkKCcjcXVlc3QnKS50ZXh0KCksXHJcbiAgICAgICAgb3B0aW9uOiAkKCcjb3B0aW9uJykudGV4dCgpLFxyXG4gICAgICAgIG9wdGlvblZhbHVlOiAkKCcjb3B0aW9uVmFsdWUnKS50ZXh0KCksXHJcbiAgICAgICAgb3B0aW9uS29lZmY6ICQoJyNvcHRpb25Lb2VmZicpLnRleHQoKVxyXG4gICAgfTtcclxuICAgIGFkZENoaWxkKCk7XHJcbn1cclxuZnVuY3Rpb24gYWRkQ2hpbGQoKVxyXG57XHJcbiAgICBpZiAoICQoJyNkb2NvcmRlcicpLmxlbmd0aCA8PSAwIClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoJCgnI2RvY29yZGVyJykuZmluZCgnLmNoaWxkJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGFsZXJ0KCfQl9Cw0L/QvtC70L3QuNGC0LUg0LTQviDQutC+0L3RhtCwINGE0L7RgNC80YMhJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IGZpZWxkZm4gPSBkb1QudGVtcGxhdGUoJCgnI3dyYXAtY2hpbGQnKS5odG1sKCkpLFxyXG4gICAgICAgIHNlbGVjdCA9IGRhdGE7XHJcbiAgICAkKCcjZG9jb3JkZXInKS5hcHBlbmQoZmllbGRmbihpbml0TG9hY2F0aW9uKCkpKTtcclxuICAgIGFkZFF1ZXN0KHNlbGVjdCk7XHJcbiAgICBzZXROdW1iZXJDaGlsZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuZXh0UXVlcnkodGgpXHJcbntcclxuICAgIGxldCBlbCA9ICQodGgpLFxyXG4gICAgICAgIHZhbCA9IGVsLnZhbCgpLFxyXG4gICAgICAgIG5leHRfZGF0YSA9IGRhdGEsXHJcbiAgICAgICAgZGF0YV9wcmV2ID0gZWwuYXR0cignZGF0YS1wcmV2JyksXHJcbiAgICAgICAgd3JhcF9jaCA9IGVsLnBhcmVudHMoJy5mdWxsLWluZm9ybSwuY2hpbGQnKTtcclxuXHJcbiAgICBpZiAoJCh3cmFwX2NoKS5oYXNDbGFzcygnZnVsbC1pbmZvcm0nKSkge1xyXG4gICAgICAgIC8vINGD0LTQsNC70LjQvCDQvdC10LfQsNC/0L7Qu9C90LXQvdGD0Y4g0YTQvtGA0LzRg1xyXG4gICAgICAgICQoJyNkb2NvcmRlcicpLmNoaWxkcmVuKCcuY2hpbGQnKS5yZW1vdmUoKTtcclxuICAgICAgICAvLyDQstGL0YHRgtCw0LLQuNC8INGC0LXQuiDQt9Cw0L/QuNGB0YxcclxuICAgICAgICAkKHdyYXBfY2gpLnJlbW92ZUNsYXNzKCdmdWxsLWluZm9ybScpLmFkZENsYXNzKCdjaGlsZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBlbF9yb3cgPSAkKGVsKS5wYXJlbnRzKCcuZm9ybS1ncm91cCcpLFxyXG4gICAgICAgIGVsX25leHQgPSBlbF9yb3cubmV4dCgnZGl2Jyk7XHJcbi8vICAgICAgICBjb25zb2xlLmxvZyhlbF9uZXh0KTtcclxuXHJcbiAgICB3aGlsZShlbF9uZXh0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICQoZWxfbmV4dCkucmVtb3ZlKCk7XHJcbiAgICAgICAgZWxfbmV4dCA9IGVsX3Jvdy5uZXh0KCdkaXYnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGRhdGFfcHJldiAhPT0gdHlwZW9mIHVuZGVmaW5lZCAmJiBkYXRhX3ByZXYgIT09IGZhbHNlKVxyXG4gICAge1xyXG4gICAgICAgIGRhdGFfcHJldiA9IGRhdGFfcHJldiArICdfJyArIHZhbDtcclxuICAgICAgICBsZXQgbGV2ZWxzID0gZGF0YV9wcmV2LnNwbGl0KCdfJyk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IGxldmVscy5sZW5ndGg7IGk8bDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmV4dF9kYXRhID0gbmV4dF9kYXRhLml0ZW1zW2xldmVsc1tpXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGFfcHJldiA9IGRhdGFfcHJldiArICdfJyArIHZhbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV4dF9kYXRhID0gbmV4dF9kYXRhLml0ZW1zW3ZhbF07XHJcbiAgICAgICAgZGF0YV9wcmV2ID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHRfZGF0YVsnZGF0YV9wcmV2J10gPSBkYXRhX3ByZXY7XHJcblxyXG4gICAgYWRkUXVlc3QobmV4dF9kYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbmV4dExvY2F0aW9uKClcclxue1xyXG4gICAgdmFyIGZpZWxkZm4gPSBkb1QudGVtcGxhdGUoJCgnI2xvY2F0aW9uJykuaHRtbCgpLCB1bmRlZmluZWQsIHdpbmRvdy5kZWYpO1xyXG4gICAgJCgnI2RvY29yZGVyJykuY2hpbGRyZW4oJy5jaGlsZCcpLmFwcGVuZChmaWVsZGZuKGluaXRMb2FjYXRpb24oKSkpO1xyXG4gICAgJCgnI2RvY29yZGVyJykuY2hpbGRyZW4oJy5jaGlsZCcpLnJlbW92ZUNsYXNzKCdjaGlsZCcpLmFkZENsYXNzKCdmdWxsLWluZm9ybScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRRdWVzdChkYXRhKVxyXG57XHJcbiAgICB2YXIgZmllbGRmbiA9IGRvVC50ZW1wbGF0ZSgkKCcjcXVlc3QnKS5odG1sKCksIHVuZGVmaW5lZCwgd2luZG93LmRlZik7XHJcbiAgICAkKCcjZG9jb3JkZXInKS5jaGlsZHJlbignLmNoaWxkJykuYXBwZW5kKGZpZWxkZm4oZGF0YSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBza2lka2EoY291bnRfY2hpbGRzKVxyXG57XHJcbiAgICBsZXQgcGVyc2VudCA9IDE7XHJcbiAgICBpZihjb3VudF9jaGlsZHMgPT0gMikgcGVyc2VudCA9IDAuOTc7XHJcbiAgICBpZihjb3VudF9jaGlsZHMgPT0gMykgcGVyc2VudCA9IDAuOTU7XHJcbiAgICBpZihjb3VudF9jaGlsZHMgPj0gNCkgcGVyc2VudCA9IDAuOTM7XHJcbiAgICByZXR1cm4gcGVyc2VudDtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdExvYWNhdGlvbigpXHJcbntcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgMTogJ9Cc0L7RgdC60LLQsCDQsiDQv9GA0LXQtNC10LvQsNGFINCc0JrQkNCUJyxcclxuICAgICAgICAxLjE1OiAn0JzQuNGC0LjQvdC+LCDQodC10LLQtdGA0L3QvtC1INCR0YPRgtC+0LLQviwg0JbRg9C70LXQsdC40L3Qviwg0J3QvtCy0L4t0JrQvtGB0LjQvdC+LCDQodC+0LvQvdGG0LXQstC+JyxcclxuICAgICAgICAxLjM6ICcwLTUg0LrQvCDQvtGCINCc0JrQkNCUJyxcclxuICAgICAgICAxLjU6ICc1LDEtMTAg0LrQvCDQvtGCINCc0JrQkNCUJyxcclxuICAgICAgICAxLjc1OiAnMTAsMS0yMCDQutC8INC+0YIg0JzQmtCQ0JQnLFxyXG4gICAgICAgIDI6ICcyMCwxLTI1INC60Lwg0L7RgiDQnNCa0JDQlCcsXHJcbiAgICAgICAgMzogJzI1LDEtNDAg0LrQvCDQvtGCINCc0JrQkNCUJyxcclxuICAgICAgICAzLjU6ICc0MCwxLTUwINC60Lwg0L7RgiDQnNCa0JDQlCcsXHJcbiAgICAgICAgNDogJzUwLDEtNjAg0LrQvCDQvtGCINCc0JrQkNCUJyxcclxuICAgICAgICA0LjU6ICc2MCwxLTcwINC60Lwg0L7RgiDQnNCa0JDQlCcsXHJcbiAgICAgICAgNTogJzcwLDEtODAg0LrQvCDQvtGCINCc0JrQkNCUJyxcclxuICAgICAgICA2OiAnODAsMS0xMDAg0LrQvCDQvtGCINCc0JrQkNCUJ1xyXG4gICAgfTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGNUb3RhbCgpXHJcbntcclxuICAgIHZhciBjaGlsZGVuID0gJCgnLmZ1bGwtaW5mb3JtJyksXHJcbiAgICAgICAgdG90YWwgPSAwLFxyXG4gICAgICAgIGtvZWZmID0gMCxcclxuICAgICAgICBwcmljZSA9IDAsXHJcbiAgICAgICAgY291bnRfY2hpbGQgPSBjaGlsZGVuLmxlbmd0aDtcclxuXHJcbiAgICBmb3IodmFyIGkgPSAwOyBpPGNvdW50X2NoaWxkOyBpKyspIHtcclxuICAgICAgICBrb2VmZiA9ICQoY2hpbGRlbltpXSkuZmluZCgnW2RhdGEtcHJpY2VdJykudmFsKCk7XHJcbiAgICAgICAgcHJpY2UgPSAkKGNoaWxkZW5baV0pLmZpbmQoJ1tkYXRhLWtvZWZmXScpLnZhbCgpO1xyXG4gICAgICAgIHRvdGFsID0gdG90YWwgKyBrb2VmZipwcmljZTtcclxuICAgIH1cclxuXHJcbiAgICB0b3RhbCA9IE1hdGgucm91bmQoIHNraWRrYShjb3VudF9jaGlsZCkgKiB0b3RhbCApO1xyXG5cclxuICAgICQoJyNyZXN1bHQnKS50ZXh0KHRvdGFsKycg0YDRg9CxLicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVJbmZvcm0odGgpXHJcbntcclxuICAgIHZhciB3cmFwID0gJCh0aCkucGFyZW50cygnLmNoaWxkLC5mdWxsLWluZm9ybScpO1xyXG4gICAgd3JhcC5yZW1vdmUoKTtcclxuICAgICQoJyNyZXN1bHQnKS50ZXh0KCcwINGA0YPQsS4nKTtcclxuICAgIHNldE51bWJlckNoaWxkKCk7XHJcbiAgICBjYWxjVG90YWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJGb3JtKClcclxue1xyXG4gICAgJCgnI2RvY29yZGVyJykuZW1wdHkoKTtcclxuICAgIGFkZENoaWxkKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldE51bWJlckNoaWxkKClcclxue1xyXG4gICAgbGV0IGNoaWxlZHMgPSAkKCcjZG9jb3JkZXIgPiBkaXYnKTtcclxuICAgIGZvcih2YXIgaSA9IDAsIGwgPSBjaGlsZWRzLmxlbmd0aDsgaTxsOyBpKyspIHtcclxuICAgICAgICAkKGNoaWxlZHNbaV0pLmZpbmQoJy5jaGlsZF9udW0nKS50ZXh0KGkgKyAxKTtcclxuICAgIH07XHJcbn0iXX0=
